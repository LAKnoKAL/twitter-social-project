var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,n=(e,n)=>{for(var r in n||(n={}))t.call(n,r)&&s(e,r,n[r]);if(a)for(var r of a(n))l.call(n,r)&&s(e,r,n[r]);return e};import{c as r,a as o,r as c,A as m,T as i,S as E,b as u,B as d,f as p,L as g,d as S,e as y,m as M,u as b,C as f,g as h,D as w,h as T,i as v,F as D,v as x,j as C,k as _,l as L,n as A,o as O,p as j,q as k,s as G,t as I,w as N,x as R,y as U,z as $,E as P,P as F,M as H,G as W,H as B,I as q,R as z}from"./vendor.519eb0a9.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,n)=>{const r=new URL(e,l);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const o=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),s(c)},onload(){a(self[t].moduleMap[r]),s(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");const V=r("SCHEDULE_MESSAGE"),J=r("SET_MESSAGES_DIALOG_STATE"),K=r("SET_SELECTED_MESSAGE"),Q=r("DELETE_MESSAGE");var X=o(null,{setMessagesDialogState:J})((({setMessagesDialogState:e})=>{const t=c.useCallback((()=>{e(!0)}),[e]);return c.createElement(m,{position:"fixed"},c.createElement(i,null,c.createElement(E,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},c.createElement(u,{variant:"h6",noWrap:!0},"Messages List"),c.createElement(d,{color:"inherit",onClick:t},"Schedule New Tweet"))))}));var Y=o(null,{setSelectedMessage:K,deleteMessage:Q})((({message:e,setSelectedMessage:t,deleteMessage:a})=>{const l=c.useCallback((()=>{t(e.id)}),[t,e]),s=c.useCallback((()=>{a(e.id)}),[a,e]),n=p(e.dateTime,"MM/dd/yyyy HH:mm");return c.createElement(g,null,c.createElement(S,{primary:`${e.title||e.id} - ${n}`}),c.createElement(y,null,c.createElement(d,{color:"primary",onClick:l},"Edit"),c.createElement(d,{color:"secondary",onClick:s},"Delete")))}));const Z=({dateTime:e},{dateTime:t})=>null===e||null===t||new Date(e).getTime()<new Date(t).getTime()?-1:1,ee={messages:[],isMessagesDialogOpened:!1,selectedMessage:null},te=e=>e.messages,ae=e=>te(e).messages.sort(Z),le=e=>te(e).isMessagesDialogOpened,se=e=>te(e).selectedMessage;var ne=(e=ee,t)=>{switch(t.type){case"SCHEDULE_MESSAGE":return console.group("action.payload"),console.log(t.payload),console.groupEnd(),n(n({},e),{messages:[...e.messages,t.payload]});case"DELETE_MESSAGE":return n(n({},e),{messages:e.messages.filter((e=>e.id!==t.payload))});case"SET_MESSAGES_DIALOG_STATE":return n(n({},e),{isMessagesDialogOpened:t.payload});case"SET_SELECTED_MESSAGE":return n(n({},e),{selectedMessage:t.payload});default:return e}};const re=M((e=>({toolbar:e.mixins.toolbar,list:{width:"100%"}}))),oe=()=>{const e=re(),t=b(ae);return c.createElement(f,null,c.createElement(E,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.createElement("div",{className:e.toolbar}),c.createElement(h,{className:e.list},t.map((e=>c.createElement(c.Fragment,{key:`message-${e.id}`},c.createElement(w,null),c.createElement(Y,{message:e}),c.createElement(w,null))))),!t.length&&c.createElement(u,{variant:"h6"},"No tweets here yet")))},ce=new Date,me=M((e=>({field:{padding:"10px 0"}})));var ie=o(null,{setMessagesDialogState:J,scheduleMessage:V})((({setMessagesDialogState:e,scheduleMessage:t})=>{const a=me(),l=b(le),s=b(se),r=c.useCallback((()=>{e(!1)}),[e]);return c.createElement(T,{open:(null==s?void 0:s.id)||l,onClose:r,fullWidth:!0,maxWidth:"sm"},c.createElement(v,null,"Schedule New Tweet"),c.createElement(D,{initialValues:{title:"",text:"",dateTime:ce},validate:e=>{const t={};return e.text?e.text.length>280&&(t.text="280 Maximum amount of characters"):t.text="Required",t},onSubmit:e=>{console.group("values"),console.log(e),console.groupEnd(),t(n({id:x()},e)),r()}},(({submitForm:e,isSubmitting:t,values:l})=>c.createElement(C,{autoComplete:"off"},c.createElement(_,null,c.createElement(L,{className:a.field},c.createElement(E,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},c.createElement(A,{component:O,name:"title",type:"text",label:"Short title"}),c.createElement(A,{component:j,name:"dateTime",label:"Date Time",disablePast:!0}))),c.createElement(L,{className:a.field},c.createElement(A,{component:O,name:"text",type:"text",label:"Text",multiline:!0,rows:4,variant:"outlined",fullWidth:!0}),c.createElement(k,{id:"my-helper-text"},l.text.length,"/280"))),c.createElement(G,{className:a.actions},c.createElement(d,{onClick:r,color:"primary"},"Cancel"),c.createElement(d,{color:"secondary",disabled:t,onClick:e},"Schedule Tweet"),c.createElement(d,{onClick:r,color:"secondary",disabled:!0},"Tweet Immediately"))))))}));var Ee=(()=>{const e=R(),t=[];t.push(e);const a=U({trace:!0})($(...t));return N(I({messages:ne}),a)})();P.render(c.createElement(c.StrictMode,null,c.createElement(F,{store:Ee},c.createElement(H,{utils:W},c.createElement(B,null,c.createElement(q,null,c.createElement(z,{path:"/",exact:!0,component:function(){return c.createElement("div",{className:"App"},c.createElement(X,null),c.createElement(oe,null),c.createElement(ie,null))}})))))),document.getElementById("root"));
