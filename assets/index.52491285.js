var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,n=(e,n)=>{for(var r in n||(n={}))t.call(n,r)&&s(e,r,n[r]);if(a)for(var r of a(n))l.call(n,r)&&s(e,r,n[r]);return e};import{c as r,a as c,r as o,A as i,T as m,S as d,b as u,B as E,f as p,L as g,d as S,e as M,m as b,u as f,C as y,g as h,D as w,h as T,i as v,v as D,j as C,k as x,l as _,F as A,n as L,o as k,p as j,q as O,s as G,t as N,w as U,x as W,y as I,z as P,E as R,G as H,H as $,I as F,P as B,M as q,J as z,K as J,N as K,R as V}from"./vendor.2c70796d.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,n)=>{const r=new URL(e,l);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const c=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){n(new Error(`Failed to import: ${e}`)),s(o)},onload(){a(self[t].moduleMap[r]),s(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("assets/");const Q=r("SCHEDULE_MESSAGE"),X=r("UPDATE_SCHEDULED_MESSAGE"),Y=r("SET_MESSAGES_DIALOG_STATE"),Z=r("SET_SELECTED_MESSAGE"),ee=r("DELETE_MESSAGE");var te=c(null,{setMessagesDialogState:Y})((({setMessagesDialogState:e})=>{const t=o.useCallback((()=>{e(!0)}),[e]);return o.createElement(i,{position:"fixed"},o.createElement(m,null,o.createElement(d,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},o.createElement(u,{variant:"h6",noWrap:!0},"Messages List"),o.createElement(E,{color:"inherit",onClick:t},"Schedule New Tweet"))))}));var ae=c(null,{setSelectedMessage:Z,deleteMessage:ee})((({message:e,setSelectedMessage:t,deleteMessage:a})=>{const l=o.useCallback((()=>{t(e.id)}),[t,e]),s=o.useCallback((()=>{a(e.id)}),[a,e]),n=p(e.dateTime,"MM/dd/yyyy HH:mm");return o.createElement(g,null,o.createElement(S,{primary:`${e.title||e.id} - ${n}`}),o.createElement(M,null,o.createElement(E,{color:"primary",onClick:l},"Edit"),o.createElement(E,{color:"secondary",onClick:s},"Delete")))}));const le=({dateTime:e},{dateTime:t})=>null===e||null===t||new Date(e).getTime()<new Date(t).getTime()?-1:1,se={messages:[],isMessagesDialogOpened:!1,selectedMessage:null},ne=e=>e.messages,re=e=>ne(e).messages.sort(le),ce=e=>ne(e).isMessagesDialogOpened,oe=e=>ne(e).selectedMessage;var ie=(e=se,t)=>{switch(t.type){case"SCHEDULE_MESSAGE":return n(n({},e),{messages:[...e.messages,t.payload]});case"UPDATE_SCHEDULED_MESSAGE":return n(n({},e),{messages:e.messages.map((e=>e.id===t.payload.id?t.payload:e))});case"DELETE_MESSAGE":return n(n({},e),{messages:e.messages.filter((e=>e.id!==t.payload))});case"SET_MESSAGES_DIALOG_STATE":return n(n({},e),{isMessagesDialogOpened:t.payload});case"SET_SELECTED_MESSAGE":return n(n({},e),{selectedMessage:e.messages.find((e=>e.id===t.payload))});default:return e}};const me=b((e=>({toolbar:e.mixins.toolbar,list:{width:"100%"}}))),de=()=>{const e=me(),t=f(re);return o.createElement(y,null,o.createElement(d,{container:!0,direction:"column",justify:"center",alignItems:"center"},o.createElement("div",{className:e.toolbar}),o.createElement(h,{className:e.list},t.map((e=>o.createElement(o.Fragment,{key:`message-${e.id}`},o.createElement(w,null),o.createElement(ae,{message:e}),o.createElement(w,null))))),!t.length&&o.createElement(u,{variant:"h6"},"No tweets here yet")))},ue=new Date,Ee=b((e=>({toolbar:n(n({},e.mixins.toolbar),{justifyContent:"space-between"}),field:{padding:"10px 0"},actions:e=>({flexDirection:e.downSM?"column":"row"})})));var pe=c(null,{setMessagesDialogState:Y,scheduleMessage:Q,updateScheduledMessage:X,setSelectedMessage:Z})((({setMessagesDialogState:e,scheduleMessage:t,updateScheduledMessage:a,setSelectedMessage:l})=>{const s=T(),r=v(s.breakpoints.down("sm")),c=Ee({downSM:r}),p=f(ce),g=f(oe),S=o.useCallback((()=>{e(!1),l(null)}),[e]),M=o.useCallback((e=>{(null==g?void 0:g.id)?a(n(n({},g),e)):t(n({id:D()},e)),S()}),[g,a,l,t]),b=o.useCallback((e=>{const t={};return e.text?e.text.length>280&&(t.text="280 Maximum amount of characters"):t.text="Required",C(e.dateTime)&&(t.dateTime="Schedule date and time must be in future"),t}),[]);return o.createElement(x,{fullScreen:r,open:(null==g?void 0:g.id)||p,onClose:S,fullWidth:!0,maxWidth:"sm"},r&&o.createElement(o.Fragment,null,o.createElement(i,null,o.createElement(m,{className:c.toolbar},o.createElement(u,{variant:"h6",noWrap:!0},"Schedule New Tweet"),o.createElement(E,{color:"inherit",onClick:S},"Close"))),o.createElement("div",{className:c.toolbar})),!r&&o.createElement(_,null,"Schedule New Tweet"),o.createElement(A,{initialValues:{title:(null==g?void 0:g.title)||"",text:(null==g?void 0:g.text)||"",dateTime:(null==g?void 0:g.dateTime)||ue},validate:b,onSubmit:M},(({submitForm:e,isSubmitting:t,values:a})=>o.createElement(L,{autoComplete:"off"},o.createElement(k,null,o.createElement(j,{className:c.field},o.createElement(d,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},o.createElement(O,{component:G,name:"title",type:"text",label:"Short title",fullWidth:r}),o.createElement(O,{component:N,name:"dateTime",label:"Date Time",disablePast:!0,fullWidth:r}))),o.createElement(j,{className:c.field},o.createElement(O,{component:G,name:"text",type:"text",label:"Text",multiline:!0,rows:4,variant:"outlined",fullWidth:!0}),o.createElement(U,{id:"my-helper-text"},a.text.length,"/280"))),o.createElement(W,{className:c.actions},o.createElement(E,{onClick:S,color:"primary",fullWidth:r},"Cancel"),o.createElement(E,{color:"secondary",disabled:t,onClick:e,fullWidth:r},"Schedule Tweet"),o.createElement(E,{onClick:S,color:"secondary",disabled:!0,fullWidth:r},"Tweet Immediately"))))))}));var ge=(()=>{const e=R(),t=[];t.push(e);const a=H({trace:!0})($(...t));return P(I({messages:ie}),a)})();F.render(o.createElement(o.StrictMode,null,o.createElement(B,{store:ge},o.createElement(q,{utils:z},o.createElement(J,{basename:"/twitter-social-project"},o.createElement(K,null,o.createElement(V,{path:"/",exact:!0,component:function(){return o.createElement("div",{className:"App"},o.createElement(te,null),o.createElement(de,null),o.createElement(pe,null))}})))))),document.getElementById("root"));
