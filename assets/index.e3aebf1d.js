var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,n=(e,n)=>{for(var r in n||(n={}))t.call(n,r)&&s(e,r,n[r]);if(a)for(var r of a(n))l.call(n,r)&&s(e,r,n[r]);return e};import{c as r,a as o,r as c,A as i,T as m,S as d,b as u,B as E,f as p,L as g,d as S,e as b,m as M,u as f,C as h,g as y,D as w,h as T,i as v,v as D,j as C,k as x,F as _,l as k,n as A,o as L,p as j,q as O,s as G,t as N,w as U,x as W,y as I,z as P,E as R,G as H,H as $,P as F,M as B,I as q,J as z,K as J,R as K}from"./vendor.d9e25906.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,n)=>{const r=new URL(e,l);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const o=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),s(c)},onload(){a(self[t].moduleMap[r]),s(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("assets/");const V=r("SCHEDULE_MESSAGE"),Q=r("UPDATE_SCHEDULED_MESSAGE"),X=r("SET_MESSAGES_DIALOG_STATE"),Y=r("SET_SELECTED_MESSAGE"),Z=r("DELETE_MESSAGE");var ee=o(null,{setMessagesDialogState:X})((({setMessagesDialogState:e})=>{const t=c.useCallback((()=>{e(!0)}),[e]);return c.createElement(i,{position:"fixed"},c.createElement(m,null,c.createElement(d,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},c.createElement(u,{variant:"h6",noWrap:!0},"Messages List"),c.createElement(E,{color:"inherit",onClick:t},"Schedule New Tweet"))))}));var te=o(null,{setSelectedMessage:Y,deleteMessage:Z})((({message:e,setSelectedMessage:t,deleteMessage:a})=>{const l=c.useCallback((()=>{t(e.id)}),[t,e]),s=c.useCallback((()=>{a(e.id)}),[a,e]),n=p(e.dateTime,"MM/dd/yyyy HH:mm");return c.createElement(g,null,c.createElement(S,{primary:`${e.title||e.id} - ${n}`}),c.createElement(b,null,c.createElement(E,{color:"primary",onClick:l},"Edit"),c.createElement(E,{color:"secondary",onClick:s},"Delete")))}));const ae=({dateTime:e},{dateTime:t})=>null===e||null===t||new Date(e).getTime()<new Date(t).getTime()?-1:1,le={messages:[],isMessagesDialogOpened:!1,selectedMessage:null},se=e=>e.messages,ne=e=>se(e).messages.sort(ae),re=e=>se(e).isMessagesDialogOpened,oe=e=>se(e).selectedMessage;var ce=(e=le,t)=>{switch(t.type){case"SCHEDULE_MESSAGE":return n(n({},e),{messages:[...e.messages,t.payload]});case"UPDATE_SCHEDULED_MESSAGE":return n(n({},e),{messages:e.messages.map((e=>e.id===t.payload.id?t.payload:e))});case"DELETE_MESSAGE":return n(n({},e),{messages:e.messages.filter((e=>e.id!==t.payload))});case"SET_MESSAGES_DIALOG_STATE":return n(n({},e),{isMessagesDialogOpened:t.payload});case"SET_SELECTED_MESSAGE":return n(n({},e),{selectedMessage:e.messages.find((e=>e.id===t.payload))});default:return e}};const ie=M((e=>({toolbar:e.mixins.toolbar,list:{width:"100%"}}))),me=()=>{const e=ie(),t=f(ne);return c.createElement(h,null,c.createElement(d,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.createElement("div",{className:e.toolbar}),c.createElement(y,{className:e.list},t.map((e=>c.createElement(c.Fragment,{key:`message-${e.id}`},c.createElement(w,null),c.createElement(te,{message:e}),c.createElement(w,null))))),!t.length&&c.createElement(u,{variant:"h6"},"No tweets here yet")))},de=new Date,ue=M((e=>({toolbar:n(n({},e.mixins.toolbar),{justifyContent:"space-between"}),field:{padding:"10px 0"},actions:e=>({flexDirection:e.downSM?"column":"row"})})));var Ee=o(null,{setMessagesDialogState:X,scheduleMessage:V,updateScheduledMessage:Q,setSelectedMessage:Y})((({setMessagesDialogState:e,scheduleMessage:t,updateScheduledMessage:a,setSelectedMessage:l})=>{const s=T(),r=v(s.breakpoints.down("sm")),o=ue({downSM:r}),p=f(re),g=f(oe),S=c.useCallback((()=>{e(!1)}),[e]),b=c.useCallback((e=>{(null==g?void 0:g.id)?(a(n(n({},g),e)),l(null)):t(n({id:D()},e)),S()}),[g,a,l,t]),M=c.useCallback((e=>{const t={};return e.text?e.text.length>280&&(t.text="280 Maximum amount of characters"):t.text="Required",t}),[]);return c.createElement(C,{fullScreen:r,open:(null==g?void 0:g.id)||p,onClose:S,fullWidth:!0,maxWidth:"sm"},r&&c.createElement(c.Fragment,null,c.createElement(i,null,c.createElement(m,{className:o.toolbar},c.createElement(u,{variant:"h6",noWrap:!0},"Schedule New Tweet"),c.createElement(E,{color:"inherit",onClick:S},"Close"))),c.createElement("div",{className:o.toolbar})),!r&&c.createElement(x,null,"Schedule New Tweet"),c.createElement(_,{initialValues:{title:(null==g?void 0:g.title)||"",text:(null==g?void 0:g.text)||"",dateTime:(null==g?void 0:g.dateTime)||de},validate:M,onSubmit:b},(({submitForm:e,isSubmitting:t,values:a})=>c.createElement(k,{autoComplete:"off"},c.createElement(A,null,c.createElement(L,{className:o.field},c.createElement(d,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},c.createElement(j,{component:O,name:"title",type:"text",label:"Short title",fullWidth:r}),c.createElement(j,{component:G,name:"dateTime",label:"Date Time",disablePast:!0,fullWidth:r}))),c.createElement(L,{className:o.field},c.createElement(j,{component:O,name:"text",type:"text",label:"Text",multiline:!0,rows:4,variant:"outlined",fullWidth:!0}),c.createElement(N,{id:"my-helper-text"},a.text.length,"/280"))),c.createElement(U,{className:o.actions},c.createElement(E,{onClick:S,color:"primary",fullWidth:r},"Cancel"),c.createElement(E,{color:"secondary",disabled:t,onClick:e,fullWidth:r},"Schedule Tweet"),c.createElement(E,{onClick:S,color:"secondary",disabled:!0,fullWidth:r},"Tweet Immediately"))))))}));var pe=(()=>{const e=P(),t=[];t.push(e);const a=R({trace:!0})(H(...t));return I(W({messages:ce}),a)})();$.render(c.createElement(c.StrictMode,null,c.createElement(F,{store:pe},c.createElement(B,{utils:q},console.log("https://laknokal.github.io/twitter-social-project/"),c.createElement(z,{basename:"https://laknokal.github.io/twitter-social-project/"},c.createElement(J,null,c.createElement(K,{path:"/",exact:!0,component:function(){return c.createElement("div",{className:"App"},c.createElement(ee,null),c.createElement(me,null),c.createElement(Ee,null))}})))))),document.getElementById("root"));
